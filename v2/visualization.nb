Notebook[{
Cell[BoxData[
 RowBox[{"SetOptions", "[", 
  RowBox[{
   RowBox[{"EvaluationNotebook", "[", "]"}], ",", 
   RowBox[{"AutoGeneratedPackage", "\[Rule]", "Automatic"}]}], 
  "]"}]], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"getBody", "[", 
   RowBox[{"x0_", ",", "\[Theta]_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "params", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"params", "=", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"width", "\[Rule]", ".4"}], ",", " ", 
        RowBox[{"height", "\[Rule]", ".2"}], ",", 
        RowBox[{"R", "\[Rule]", "2"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{
      RowBox[{"Graphics", "[", 
       RowBox[{"{", 
        RowBox[{"Red", ",", 
         RowBox[{"Rotate", "[", 
          RowBox[{
           RowBox[{"Translate", "[", 
            RowBox[{
             RowBox[{"Rectangle", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "width"}], "/", "2"}], ",", "0"}], "}"}], ",", 
               
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"width", "/", "2"}], ",", "height"}], "}"}]}], "]"}],
              ",", 
             RowBox[{"{", 
              RowBox[{"x0", ",", "R"}], "}"}]}], "]"}], ",", 
           RowBox[{"-", "\[Theta]"}], ",", 
           RowBox[{"{", 
            RowBox[{"x0", ",", "0"}], "}"}]}], "]"}]}], "}"}], "]"}], "/.", 
      "params"}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"getBall", "[", "x0_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"params", ",", " ", "\[Psi]"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"params", "=", 
      RowBox[{"{", 
       RowBox[{"R", "\[Rule]", "2"}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"\[Psi]", "=", 
      RowBox[{"x0", "/", "R"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Graphics", "@", 
       RowBox[{"{", 
        RowBox[{"Gray", ",", 
         RowBox[{"DiskSegment", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"x0", ",", "0"}], "}"}], ",", "R", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "\[Psi]"}], ",", 
             RowBox[{"Pi", "-", "\[Psi]"}]}], "}"}]}], "]"}], ",", "Black", 
         ",", 
         RowBox[{"DiskSegment", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"x0", ",", "0"}], "}"}], ",", "R", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Pi", "-", "\[Psi]"}], ",", 
             RowBox[{
              RowBox[{"2", "Pi"}], "-", "\[Psi]"}]}], "}"}]}], "]"}]}], 
        "}"}]}], "/.", "params"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"getBB8", "[", 
   RowBox[{"x0_", ",", "\[Theta]_"}], "]"}], ":=", 
  RowBox[{"Show", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"getBall", "[", "x0", "]"}], ",", 
      RowBox[{"getBody", "[", 
       RowBox[{"x0", ",", "\[Theta]"}], "]"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "10"}], ",", "10"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "10"}], ",", "10"}], "}"}]}], "}"}]}], "}"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"testAnimageBB8", "[", "]"}], ":=", 
  RowBox[{"Animate", "[", 
   RowBox[{
    RowBox[{"Evaluate", "@", 
     RowBox[{"getBB8", "[", 
      RowBox[{"x", ",", "th"}], "]"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"x", ",", "0", ",", "5"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"th", ",", 
      RowBox[{"-", "2"}], ",", "2"}], "}"}], ",", 
    RowBox[{"RefreshRate", "\[Rule]", "60"}]}], "]"}]}]}], "Input",
 InitializationCell->True],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dynamic", "@", 
  RowBox[{"getBody", "[", 
   RowBox[{"0", ",", "0.1"}], "]"}]}]], "Input"],

Cell[BoxData[
 DynamicBox[ToBoxes[
   $CellContext`getBody[0, 0.1], StandardForm],
  ImageSizeCache->{360., {103., 109.}}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dynamic", "@", 
  RowBox[{"getBall", "[", "0.1", "]"}]}]], "Input"],

Cell[BoxData[
 DynamicBox[ToBoxes[
   $CellContext`getBall[0.1], StandardForm],
  ImageSizeCache->{360., {177., 182.}}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Show", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"getBB8", "[", 
     RowBox[{"1", ",", "1"}], "]"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "10"}], ",", "10"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "10"}], ",", "10"}], "}"}]}], "}"}]}], "}"}]}], 
  "]"}]], "Input"],

Cell[BoxData[
 GraphicsBox[{{
    {GrayLevel[0.5], 
     InterpretationBox[
      FilledCurveBox[
       BSplineCurve[{{2.7551651237807455`, -0.958851077208406}, {
        3.7140162009891515`, 0.7963140465723395}, {1.958851077208406, 
        1.7551651237807455`}, {0.2036859534276605, 
        2.7140162009891515`}, {-0.7551651237807455, 
        0.958851077208406}, {-0.7551651237807455, 
        0.958851077208406}, {-0.7551651237807455, 0.958851077208406}, {1., 
        0.}, {2.7551651237807455`, -0.958851077208406}}, 
        SplineKnots -> {
         0, 0, 0, Rational[1, 4], Rational[1, 4], Rational[1, 2], Rational[
          1, 2], Rational[3, 4], Rational[3, 4], 1, 1, 1}, 
        SplineWeights -> {1, 1, 2, 2, 4, 4, 4., 4., 4.}, SplineDegree -> 2]],
      DiskSegment[{1, 0}, 2, {
        Rational[-1, 2], Rational[-1, 2] + Pi}]]}, 
    {GrayLevel[0], 
     InterpretationBox[
      FilledCurveBox[
       BSplineCurve[{{-0.7551651237807455, 
        0.958851077208406}, {-1.7140162009891515`, -0.7963140465723395}, {
        0.04114892279159399, -1.7551651237807455`}, {
        1.7963140465723395`, -2.7140162009891515`}, {
        2.7551651237807455`, -0.958851077208406}, {
        2.7551651237807455`, -0.958851077208406}, {
        2.7551651237807455`, -0.958851077208406}, {1., 
        0.}, {-0.7551651237807455, 0.958851077208406}}, 
        SplineKnots -> {
         0, 0, 0, Rational[1, 4], Rational[1, 4], Rational[1, 2], Rational[
          1, 2], Rational[3, 4], Rational[3, 4], 1, 1, 1}, 
        SplineWeights -> {1, 1, 2, 2, 4, 4, 4., 4., 4.}, SplineDegree -> 2]],
      DiskSegment[{1, 0}, 2, {
       Rational[-1, 2] + Pi, Rational[-1, 2] + 2 Pi}]]}}, 
   {RGBColor[1, 0, 0], 
    GeometricTransformationBox[
     GeometricTransformationBox[RectangleBox[{-0.2, 0}, {0.2, 0.2}], {1, 
      2}], {{{0.5403023058681398, 0.8414709848078965}, {-0.8414709848078965, 
      0.5403023058681398}}, {0.45969769413186023`, 0.8414709848078965}}]}},
  PlotRange->{{-10, 10}, {-10, 10}}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"testAnimageBB8", "[", "]"}]], "Input"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`th$$ = -2, $CellContext`x$$ = 0, 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`x$$], 0, 5}, {
      Hold[$CellContext`th$$], -2, 2}}, Typeset`size$$ = {360., {177., 183.}},
     Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = 
    True, $CellContext`x$61973$$ = 0, $CellContext`th$61974$$ = 0}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`th$$ = -2, $CellContext`x$$ = 0}, 
      "ControllerVariables" :> {
        Hold[$CellContext`x$$, $CellContext`x$61973$$, 0], 
        Hold[$CellContext`th$$, $CellContext`th$61974$$, 0]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, "Body" :> Graphics[{{
          GrayLevel[0.5], 
          
          DiskSegment[{$CellContext`x$$, 0}, 2, {
           Rational[-1, 2] $CellContext`x$$, Pi + 
            Rational[-1, 2] $CellContext`x$$}], 
          GrayLevel[0], 
          
          DiskSegment[{$CellContext`x$$, 0}, 2, {
           Pi + Rational[-1, 2] $CellContext`x$$, 2 Pi + 
            Rational[-1, 2] $CellContext`x$$}]}, {
          RGBColor[1, 0, 0], 
          Rotate[
           Translate[
            
            Rectangle[{-0.2, 0}, {0.2, 0.2}], {$CellContext`x$$, 
             2}], -$CellContext`th$$, {$CellContext`x$$, 0}]}}, {
        PlotRange -> {{-10, 10}, {-10, 10}}}], 
      "Specifications" :> {{$CellContext`x$$, 0, 5, RefreshRate -> 60, 
         AppearanceElements -> {
          "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons", 
           "DirectionButton"}}, {$CellContext`th$$, -2, 2, RefreshRate -> 60, 
         AppearanceElements -> {
          "ProgressSlider", "PlayPauseButton", "FasterSlowerButtons", 
           "DirectionButton"}}}, 
      "Options" :> {
       ControlType -> Animator, AppearanceElements -> None, DefaultBaseStyle -> 
        "Animate", DefaultLabelStyle -> "AnimateLabel", SynchronousUpdating -> 
        True, ShrinkingDelay -> 10.}, "DefaultOptions" :> {}],
     ImageSizeCache->{407., {224., 231.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Animate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output"]
}, Open  ]],

Cell[BoxData[""], "Input"]
},
AutoGeneratedPackage->Automatic,
WindowSize->{960, 1016},
WindowMargins->{{107, Automatic}, {0, 37}},
TrackCellChangeTimes->False,
FrontEndVersion->"11.0 for Linux x86 (64-bit) (July 28, 2016)",
StyleDefinitions->"Default.nb"
]

